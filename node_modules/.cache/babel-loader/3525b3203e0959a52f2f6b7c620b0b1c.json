{"remainingRequest":"/Users/mannyfavela/OneDrive/MIT/Thesis Work/mapActivationProject/node_modules/babel-loader/lib/index.js!/Users/mannyfavela/OneDrive/MIT/Thesis Work/mapActivationProject/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mannyfavela/OneDrive/MIT/Thesis Work/mapActivationProject/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mannyfavela/OneDrive/MIT/Thesis Work/mapActivationProject/src/components/MapActivation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mannyfavela/OneDrive/MIT/Thesis Work/mapActivationProject/src/components/MapActivation.vue","mtime":1639781554698},{"path":"/Users/mannyfavela/OneDrive/MIT/Thesis Work/mapActivationProject/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mannyfavela/OneDrive/MIT/Thesis Work/mapActivationProject/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mannyfavela/OneDrive/MIT/Thesis Work/mapActivationProject/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mannyfavela/OneDrive/MIT/Thesis Work/mapActivationProject/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnR5cGVkLnVpbnQ4LWNsYW1wZWQtYXJyYXkiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovL2ltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7Ci8vaW1wb3J0IHsgZXZlbnRCdXMgfSBmcm9tICIuLi9tYWluIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJNYXBBY3RpdmF0aW9uIiwKICBwcm9wczogWyJpbWFnZSIsICJhcnJheSIsICJzaG93QWN0aXZhdGlvbiJdLAogIHdhdGNoOiB7CiAgICBzaG93QWN0aXZhdGlvbjogZnVuY3Rpb24gc2hvd0FjdGl2YXRpb24oKSB7CiAgICAgIGlmICh0aGlzLnNob3dBY3RpdmF0aW9uKSB7CiAgICAgICAgdGhpcy5kcmF3QWN0aXZhdGlvbigpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY2xlYXJBY3RpdmF0aW9uKCk7CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4ge307CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgbWV0aG9kczogewogICAgZHJhd19pbml0aWFsX2NvbnRlbnRzOiBmdW5jdGlvbiBkcmF3X2luaXRpYWxfY29udGVudHMoKSB7CiAgICAgIC8vbGV0IHBhcGVyID0gdGhpcy5wYXBlcjsKICAgICAgdmFyIGltZyA9IHRoaXMuJHJlZnMuaW1hZ2U7CiAgICAgIHZhciBjbnYgPSB0aGlzLiRyZWZzLmNhbnZhczsgLy8gc2l6ZSBvZiBlbGVtZW50IG91dHNpZGUKCiAgICAgIGNudi5oZWlnaHQgPSBpbWcuaGVpZ2h0OwogICAgICBjbnYud2lkdGggPSBpbWcud2lkdGg7CiAgICAgIHZhciBhY3RpdmF0aW9uID0gdGhpcy5nZW5lcmF0ZUFycmF5SW1hZ2UodGhpcy5hcnJheSwgaW1nLndpZHRoLCBpbWcuaGVpZ2h0KTsKICAgICAgdmFyIGN0eCA9IGNudi5nZXRDb250ZXh0KCcyZCcpOwogICAgICB2YXIgaWRhdGEgPSBjdHguY3JlYXRlSW1hZ2VEYXRhKGNudi53aWR0aCwgY252LmhlaWdodCk7CiAgICAgIGlkYXRhLmRhdGEuc2V0KGFjdGl2YXRpb24pOwogICAgICBjdHgucHV0SW1hZ2VEYXRhKGlkYXRhLCAwLCAwKTsKICAgIH0sCiAgICBjbGVhckFjdGl2YXRpb246IGZ1bmN0aW9uIGNsZWFyQWN0aXZhdGlvbigpIHsKICAgICAgdmFyIGNudiA9IHRoaXMuJHJlZnMuY2FudmFzOwogICAgICB2YXIgY3R4ID0gY252LmdldENvbnRleHQoJzJkJyk7CiAgICAgIHZhciBpbWcgPSBjdHguY3JlYXRlSW1hZ2VEYXRhKGNudi53aWR0aCwgY252LmhlaWdodCk7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGltZy5kYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaW1nLmRhdGFbaV0gPSAwOwogICAgICB9CgogICAgICBjdHgucHV0SW1hZ2VEYXRhKGltZywgMCwgMCk7CiAgICB9LAogICAgZHJhd0FjdGl2YXRpb246IGZ1bmN0aW9uIGRyYXdBY3RpdmF0aW9uKCkgewogICAgICB2YXIgaW1nID0gdGhpcy4kcmVmcy5pbWFnZTsKICAgICAgdmFyIGNudiA9IHRoaXMuJHJlZnMuY2FudmFzOwogICAgICB2YXIgYWN0aXZhdGlvbiA9IHRoaXMuZ2VuZXJhdGVBcnJheUltYWdlKHRoaXMuYXJyYXksIGltZy53aWR0aCwgaW1nLmhlaWdodCk7CiAgICAgIHZhciBjdHggPSBjbnYuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgdmFyIGlkYXRhID0gY3R4LmNyZWF0ZUltYWdlRGF0YShjbnYud2lkdGgsIGNudi5oZWlnaHQpOwogICAgICBpZGF0YS5kYXRhLnNldChhY3RpdmF0aW9uKTsKICAgICAgY3R4LnB1dEltYWdlRGF0YShpZGF0YSwgMCwgMCk7CiAgICB9LAogICAgZ2VuZXJhdGVBcnJheUltYWdlOiBmdW5jdGlvbiBnZW5lcmF0ZUFycmF5SW1hZ2UoYXJyYXksIHdpZHRoLCBoZWlnaHQpIHsKICAgICAgdmFyIGFycmF5X3dpZHRoID0gYXJyYXlbMF0ubGVuZ3RoLAogICAgICAgICAgYXJyYXlfaGVpZ2h0ID0gYXJyYXkubGVuZ3RoOwogICAgICB2YXIgZGF0YSA9IG5ldyBVaW50OENsYW1wZWRBcnJheSh3aWR0aCAqIGhlaWdodCAqIDQpOwoKICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7CiAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBoZWlnaHQ7IHkrKykgewogICAgICAgICAgdmFyIHBvcyA9ICh5ICogd2lkdGggKyB4KSAqIDQ7CiAgICAgICAgICB2YXIgYXJyYXlfeCA9IE1hdGguZmxvb3Iod2lkdGggLyBhcnJheV93aWR0aCk7CiAgICAgICAgICB2YXIgYXJyYXlfeSA9IE1hdGguZmxvb3IoaGVpZ2h0IC8gYXJyYXlfaGVpZ2h0KTsKICAgICAgICAgIHZhciB0ZW1wID0gYXJyYXlbTWF0aC5mbG9vcih5IC8gYXJyYXlfeSldW01hdGguZmxvb3IoeCAvIGFycmF5X3gpXTsKICAgICAgICAgIGRhdGFbcG9zXSA9IDI1NTsgLy8gU2V0IHRoZSBjb2xvciB0byByZWQKCiAgICAgICAgICBkYXRhW3BvcyArIDFdID0gMDsKICAgICAgICAgIGRhdGFbcG9zICsgMl0gPSAwOwogICAgICAgICAgZGF0YVtwb3MgKyAzXSA9IHBhcnNlSW50KHRlbXAgKiAyNTUpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyIGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7CiAgICAgIGltYWdlLnNyYyA9IGRhdGE7CiAgICAgIHJldHVybiBkYXRhOwogICAgfQogIH0KfTs="},{"version":3,"sources":["MapActivation.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n      <h2>Map Activation Component</h2>\n      <img :class=\"annotator_image_small\" :src=\"image\" ref=\"image\" \n                @load=\"draw_initial_contents\" tabindex='1' @keyup.esc=\"emit('esc')\" />\n        <canvas class=\"annotator_canvas\" ref=\"canvas\" @keyup.esc=\"emit('esc')\" tabindex='2' \n                @mouseover=\"hover(true)\" @mouseleave=\"hover(false)\" />\n  </div>\n</template>\n\n<script>\n//import axios from \"axios\";\n//import { eventBus } from \"../main\";\n\nexport default {\n  name: \"MapActivation\",\n  props: [\"image\", \"array\", \"showActivation\"],\n  watch: {\n      showActivation: function(){\n          if (this.showActivation){\n              this.drawActivation(); \n          } else { \n              this.clearActivation(); \n          }\n      }\n  }, \n  data() {\n    return {};\n  },\n  created: function() {\n  },\n  methods: { \n    draw_initial_contents(){\n        //let paper = this.paper;\n        let img = this.$refs.image; \n        let cnv = this.$refs.canvas;\n\n\n        // size of element outside\n        cnv.height = img.height;\n        cnv.width = img.width;\n        var activation = this.generateArrayImage(this.array, img.width, img.height); \n        var ctx = cnv.getContext('2d')\n        var idata = ctx.createImageData(cnv.width, cnv.height); \n        idata.data.set(activation); \n        ctx.putImageData(idata, 0, 0);  \n    }, \n    clearActivation(){\n        let cnv = this.$refs.canvas; \n        var ctx = cnv.getContext('2d'); \n        var img = ctx.createImageData(cnv.width, cnv.height); \n        for (var i = 0; i < img.data.length; i++){\n            img.data[i] = 0; \n        }\n        ctx.putImageData(img, 0, 0); \n    }, \n    drawActivation(){\n        let img = this.$refs.image;\n        let cnv = this.$refs.canvas; \n        var activation = this.generateArrayImage(this.array, img.width, img.height); \n        var ctx = cnv.getContext('2d')\n        var idata = ctx.createImageData(cnv.width, cnv.height); \n        idata.data.set(activation); \n        ctx.putImageData(idata, 0, 0); \n    }, \n    generateArrayImage(array, width, height){\n        var array_width = array[0].length, \n        array_height = array.length; \n        var data = new Uint8ClampedArray(width * height * 4);  \n        for (var x = 0; x < width; x++){\n            for (var y = 0; y < height; y++){\n                var pos = (y * width + x) * 4; \n                var array_x = Math.floor(width / array_width); \n                var array_y = Math.floor(height / array_height); \n                var temp = array[Math.floor(y/array_y)][Math.floor(x / array_x)]\n                data[pos] = 255; // Set the color to red\n                data[pos + 1] = 0;\n                data[pos + 2] = 0; \n                data[pos + 3] = parseInt(temp * 255); \n            }\n        }\n        var image = document.createElement(\"img\");\n        image.src = data; \n        return data; \n    },\n\n  },\n};\n</script>\n\n<style scoped>\n.annotator_image {\n    /* max-width:100%; */\n    /* max-height:100%; */\n    /* display:inline; */\n    position:relative;\n    object-fit:none; /* never rescale up */ \n}\n.annotator_image_small {\n  width: auto !important;\n  height: auto !important;\n  max-height: 200px;\n  /*max-width: 400px; */\n  object-fit: scale-down; /* never rescale up */ \n}\n.annotator_canvas {\n    /* border:0px solid #d3d3d3; */\n    /* max-width:100%;*/\n    /* max-height:100%; */\n    position:absolute; left:44px;\n    /* display:;  */\n    /* for now not showing it to try to fix centering issue...*/\n}\n</style>"],"sourceRoot":"src/components"}]}